{"version":3,"sources":["./dist/regltf.dev.js"],"names":["exports","memop","sceneGraph","vmath","f32a_m4_pool","FramePool","Float32Array","configParameters","manifestParameters","parserParameters","STATE_ERROR","STATE_DATA","STATE_COMPLETE","raise","message","Error","checkType","object","parameters","name","Object","keys","forEach","param","indexOf","Loader","cancel","this","state","ready","progress","resl","config","manifest","getFunction","func","onDone","onProgress","onError","assets","loadXHR","request","stream","binary","type","parser","xhr","XMLHttpRequest","asset","loader","onreadystatechange","onReadyStateChange","readyState","responseType","status","abort","response","responseText","data","e","done","notifyProgress","credentials","withCredentials","open","src","send","loadElement","element","handleProgress","lengthComputable","Math","max","loaded","total","onComplete","removeListeners","addEventListener","canPlay","loadedMetaData","removeEventListener","crossOrigin","loaders","text","image","document","createElement","video","audio","pending","map","getParameter","prop","accepted","init","value","getString","required","getParseFunc","dflt","result","console","error","numReady","length","setTimeout","builtinPrograms","diffuse","attributes","vertexShader","fragmentShader","diffuse_skinning","GL$1","WebGLRenderingContext","prototype","builtinTechniques","program","position","FLOAT_VEC3","semantic","normal","uv0","FLOAT_VEC2","model","FLOAT_MAT4","view","projection","mainTexture","SAMPLER_2D","mainTextureTiling","mainTextureOffset","a_position","a_normal","a_uv0","uniforms","u_mainTexture","u_mainTextureTiling","u_mainTextureOffset","joint","FLOAT_VEC4","weight","bonesTexture","bonesTextureSize","FLOAT","a_joint","a_weight","u_bonesTexture","u_bonesTextureSize","GL","_programs","_techniques","_gl2reglWrapMode","wrap","REPEAT","CLAMP_TO_EDGE","MIRRORED_REPEAT","_gl2reglFilter","filter","NEAREST","LINEAR","LINEAR_MIPMAP_LINEAR","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_NEAREST","_walk","scene","fn","nodes","node","utils","walk","child","_replace","oldNode","newNode","_parent","replace","i","_serializeCommands","regl","json","commands","techID","gltfTechnique","gltfProgram","opts","cull","enable","face","vert","frag","primitive","offset","count","elements","attrName","uniformName","_serializeNodes","parent","childrenIDs","out","nodeID","gltfNode","Node","_id","translation","lpos","vec3","new","rotation","lrot","quat","scale","lscale","_meshes","meshes","_skeletons","skeletons","_skin","skin","_extras","extras","children","push","_serializeJoint","id","joints","childNodeID","_serializeTextures","textures","callback","samplers","gltfTexture","gltfImage","images","source","texture","sampler","baseURL","uri","[object Object]","err","gltfSampler","wrapS","wrapT","mag","magFilter","min","minFilter","mipmap","flipY","_serializeBuffers","buffers","buffer2viewIDs","gltfBuffer","bufferViews","gltfBufferView","target","_gl","ARRAY_BUFFER","buffer","byteLength","ELEMENT_ARRAY_BUFFER","ArrayBuffer","viewIDs","viewID","reglBuf","Uint8Array","byteOffset","slice","_serializePrefabs","prefabs","JSON","parse","url","prefabJson","idx","lastIndexOf","substring","_serializeGLTF","gltfScene","scenes","programs","techniques","materials","accessors","jointName","log","prefab","prefabID","root","prefabNode","deepClone","copy","_dirty","load","GL$2","m4_a","mat4","create","_type2buffersize","_mode2primitive","mode","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","buildCommandData","gltfPrimitive","gltfMaterial","material","technique","tech","paramName","accessorID","warn","accessor","bufferView","stride","byteStride","componentType","size","values","undefined","indices","getWorldMatrix","array","alloc","reset","regltf","window","sgraph"],"mappings":"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"}